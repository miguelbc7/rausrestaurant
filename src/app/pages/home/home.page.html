<app-navbar></app-navbar>
<ion-content class="align-top">
	<ion-avatar class="avatar" routerLink="/perfil">
		<img class="imgAvatar" src="{{avatar}}" alt="avatar perfil">
	</ion-avatar> 
	<ion-grid class="px-0">
		<ion-row class="my-0 py-0">
			<ion-col class="py-0 ion-align-self-center ion-text-center" size="2">
				<ion-icon color="bluedark" class="colorBlack" name="menu" routerLink="/opciones"></ion-icon>
			</ion-col>
			<ion-col size="8" class="ion-text-center">
				<p class="my-0 font14 truncate">
					{{profile.business_name}}
				</p>
			</ion-col>
		</ion-row>
		<ion-row class="my-0">
			<ion-col class="ion-no-padding">
				<div class="boxBanner">
					<ion-slides [options]="slideOptsOne">
						<!-- <ion-slide class="changeStyle" *ngFor="let img of aImages">
							<img class="imgBanner" src="{{img.image}}"/>
						</ion-slide> -->
						<ion-slide class="changeStyle" *ngFor="let img of slider">
							<img class="imgSlider" src="{{ img.photo }}"/>
							<div class="divEdit" color="bluelight">
								<ion-icon class="iconEditBanner" color="white" src="assets/img/icon/papelera.svg" name="create" (click)="deleteSlider('', img.id)"></ion-icon>
							</div>
						</ion-slide>
						<ion-slide class="changeStyle">
							<div class="divWhite">
							</div>
							<div class="addPhoto" color="">
								<ion-icon class="addIcon" color="bluedark" src="assets/img/icon/producto/addAzulProducto.svg" (click)="selectImage()"></ion-icon>
							</div>
						</ion-slide>
					</ion-slides>   
				</div>
			</ion-col>
		</ion-row>
		<ion-row class="ion-no-padding">
			<ion-col class="ion-no-padding">
				<img class="imgMap" src="assets/img/map.png" alt="map">
			</ion-col>
		</ion-row>
		<ion-row class="ion-no-padding">
			<ion-col size="12" class="font12 ion-text-center blue-dark2">
				<ion-button fill="clear" color="bluedark" class="directionText bold ion-text-center ion-text-wrap" (click)="getMap()">
					{{profile.direction.street}}
					<ion-icon color="bluedark" class="iconLapiz " slot="end" src="assets/img/icon/lapiz.svg"></ion-icon>
				</ion-button>
			</ion-col>
				<ion-col size="12">
					<p class="ion-text-center ion-no-margin">
						<ion-icon class="font24 time" color="bluedark" name="time"></ion-icon>
					</p>
					<p class="ion-text-center ion-no-margin font12 blue-dark2">
						Presiona para modificar los horarios
					</p>
				</ion-col>
			</ion-row>
			<ion-row class="ion-no-padding font8">
				<ion-col class="ion-text-center bgHorarios mHorarios" (click)="openHorarios('Lunes', lunes)">
					Lun <br>
					<div *ngIf="lunes == false">Cerrado</div>
					<div *ngFor="let ln of lunes">
						<div *ngIf="ln?.schedules?.length == 0 || ln?.status == false">Cerrado</div>
						<div *ngIf="ln.status == true">
							<div *ngFor="let s of ln.schedules">
								<div>{{s.start| date: 'H:mm'}} a {{s.end| date: 'H:mm'}}</div>
							</div>
						</div>
					</div>

				</ion-col>
				<ion-col class="ion-text-center bgHorarios mHorarios" (click)="openHorarios('Martes', martes)">
					Mar <br>
					<div *ngIf="martes == false">Cerrado</div>
					<div *ngFor="let ln of martes">
						<div *ngIf="ln?.schedules?.length == 0 || ln?.status == false">Cerrado</div>
						<div  *ngIf="ln.status == true">
							<div *ngFor="let s of ln.schedules">
								<div>{{s.start| date: 'H:mm'}} a {{s.end| date: 'H:mm'}}</div>
							</div>
						</div>
					</div>
				</ion-col>
				<ion-col class="ion-text-center bgHorarios mHorarios" (click)="openHorarios('Miercoles', miercoles)">
					Míe <br>
					<div *ngIf="miercoles == false">Cerrado</div>
					<div *ngFor="let ln of miercoles">
						<div *ngIf="ln?.schedules?.length == 0 || ln?.status == false">Cerrado</div>
						<div  *ngIf="ln.status == true">
							<div *ngFor="let s of ln.schedules">
								<div>{{s.start| date: 'H:mm'}} a {{s.end| date: 'H:mm'}}</div>
							</div>
						</div>
					</div>
				</ion-col>
				<ion-col class="ion-text-center bgHorarios mHorarios" (click)="openHorarios('Jueves', jueves)">
					Jue <br>
					<div *ngIf="jueves == false">Cerrado</div>
					<div *ngFor="let ln of jueves">
						<div *ngIf="ln?.schedules?.length == 0 || ln?.status == false">Cerrado</div>
						<div  *ngIf="ln.status == true">
							<div *ngFor="let s of ln.schedules">
								<div>{{s.start| date: 'H:mm'}} a {{s.end| date: 'H:mm'}}</div>
							</div>
						</div>
					</div>
				</ion-col>
				<ion-col class="ion-text-center bgHorarios mHorarios" (click)="openHorarios('Viernes', viernes)">
					Vie <br>
					<div *ngIf="viernes == false">Cerrado</div>
					<div *ngFor="let ln of viernes">
						<div *ngIf="ln?.schedules?.length == 0 || ln?.status == false">Cerrado</div>
						<div  *ngIf="ln.status == true">
							<div *ngFor="let s of ln.schedules">
								<div>{{s.start| date: 'H:mm'}} a {{s.end| date: 'H:mm'}}</div>
							</div>
						</div>
					</div>
				</ion-col>
				<ion-col class="ion-text-center bgHorarios mHorarios" (click)="openHorarios('Sabado', sabado)">
					Sáb<br>
					<div *ngIf="sabado == false"> Cerrado </div>
					<div *ngFor="let ln of sabado">
						<div *ngIf="ln?.schedules?.length == 0 || ln?.status == false">Cerrado</div>
						<div  *ngIf="ln.status == true">
							<div *ngFor="let s of ln.schedules">
								<div>{{s.start| date: 'H:mm'}} a {{s.end| date: 'H:mm'}}</div>
							</div>
						</div>
					</div>
				</ion-col>
				<ion-col class="ion-text-center bgHorarios mHorarios" (click)="openHorarios('Domingo', domingo)">
					Dom <br>
					<div *ngIf="domingo == false">Cerrado</div>
					<div *ngFor="let ln of domingo">
						<div *ngIf="ln?.schedules?.length == 0 || ln?.status == false">Cerrado</div>
						<div  *ngIf="ln.status == true">
							<div *ngFor="let s of ln.schedules">
								<div>{{s.start| date: 'H:mm'}} a {{s.end| date: 'H:mm'}}</div>
							</div>
						</div>
					</div>
				</ion-col>
			</ion-row>
			<ion-row class="ion-align-items-center">
				<ion-col class="font12 ion-text-center blue-dark2"  (click)="addProduct()">
					<ion-button fill="clear" color="bluedark" class="blue-dark bold addProducts">
						<ion-icon color="bluedark" class="font25" slot="start" name="add-circle-outline"></ion-icon>
						<!-- <ion-icon color="bluedark" class="font25 " slot="start" src="assets/img/icon/agregarProducto.svg"></ion-icon> -->
						Agregar productos
					</ion-button>
				</ion-col>
			</ion-row>
		</ion-grid>
		<ion-grid class="px-0">
			<ion-row >
				<ion-col class="px-0" size="6" *ngFor="let product of productos; let i = index">
					<ion-card class="customCard">
						<div class="boxBanner">
						<!-- <ion-slides *ngIf="product.tempImages && product.tempImages.length > 0">
							<ion-slide class="changeStyle"  *ngFor="let img of product.tempImages">
								<img class="imgCarta3" src="{{img.img}}"/>
							</ion-slide>
						</ion-slides> -->
						<ion-slides *ngIf="!isEmptyObject(product.images); else noimage">
							<ion-slide class="" *ngFor="let img of product.images">
								<img class="imgCarta3" src="{{ img.img }}"/>
							</ion-slide>
						</ion-slides>
						<ng-template #noimage>
							<ion-slides>
								<ion-slide class="changeStyle">
									<img class="imgCarta3" src="assets/img/noimage.jpeg"/>
								</ion-slide>
							</ion-slides>
						</ng-template>
						<div class="divEditCard" color="bluelight" (click)="editProduct(productos[i])">
							<ion-icon class="iconEditCard" color="white" src="assets/img/icon/lapizEdit.svg"></ion-icon>
						</div>
					</div>
					<ion-card-content>
						<ion-row>
							<ion-col class="ion-no-padding ion-align-self-center " size="7">
								<p class="hgPCarta my-0 customDarkText font12 truncateCard fontSize">
									{{product.name | slice: 0:15 }}
								</p> 
							</ion-col>
							<ion-col class="ion-no-padding" size="5">
								<!-- <p class="my-0 hgPCarta  customDarkText">
									<span class="font12">{{product.price_with_iva| currency:'EUR':true:'1.2-2'}}</span>
								</p> -->
								<p class="newPrice">
									<!-- <span class="a">9</span>
									<span class="b">,50€</span> -->
									<span class="a">{{ product.price1 }}</span>
									<span class="b">,{{ product.price2 }}€</span>
								</p>
							</ion-col>
						</ion-row>
						<ion-row>
							<ion-col class="ion-no-padding ion-align-self-center" size="8">
								<!-- <p class="hgPCarta my-0 customDarkText font9" *ngFor="let ingredientes of product.ingredients">
									{{ ingredientes.name }},
								</p>  -->
								<p  class="hgPCarta my-0 customDarkText font9 truncateCard fontSize"> {{product.description | slice: 0:30}} </p>
							</ion-col>
							<ion-col class="ion-no-padding ion-align-self-center ion-text-right" size="2">
								<ion-icon class="font24 scale" color="bluedark" src="assets/img/icon/compartir.svg"></ion-icon>
							</ion-col>
							<ion-col class="ion-no-padding ion-align-self-center ion-text-right" size="2" (click)="addpromocion(product._id)">
								<ion-icon class="font24 scale2" color="bluedark" src="assets/img/icon/parlantepromo.svg"></ion-icon>
							</ion-col>
						</ion-row>
					</ion-card-content>
				</ion-card>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
